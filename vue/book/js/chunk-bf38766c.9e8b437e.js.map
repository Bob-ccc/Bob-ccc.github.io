{"version":3,"sources":["webpack:///./src/views/mainViews/Bookrack.vue?5cb6","webpack:///src/views/mainViews/Bookrack.vue","webpack:///./src/views/mainViews/Bookrack.vue?6d18","webpack:///./src/views/mainViews/Bookrack.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","staticClass","attrs","scopedSlots","_u","key","fn","on","goHistory","goSearch","proxy","_l","item","index","$event","goDetail","_id","cover","_v","_s","title","bookState","isReaded","bookOrder","goHome","staticRenderFns","data","computed","classifyData","$store","state","bookrackStore","historyData","map","v","isAtClassify","push","methods","search","$router","dispatch","id","$toast","loading","message","forbidClick","duration","loadingType","axios","component"],"mappings":"yHAAA,IAAIA,EAAS,WAAa,IAAIC,EAAIC,KAASC,EAAGF,EAAIG,eAAmBC,EAAGJ,EAAIK,MAAMD,IAAIF,EAAG,OAAOE,EAAG,MAAM,CAACE,YAAY,YAAY,CAACF,EAAG,cAAc,CAACG,MAAM,CAAC,YAAY,MAAMC,YAAYR,EAAIS,GAAG,CAAC,CAACC,IAAI,QAAQC,GAAG,WAAW,MAAO,CAACP,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,UAAU,MAAQ,OAAO,KAAO,MAAMK,GAAG,CAAC,MAAQZ,EAAIa,aAAaT,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,SAAS,MAAQ,OAAO,KAAO,MAAMK,GAAG,CAAC,MAAQZ,EAAIc,cAAcC,OAAM,OAAUX,EAAG,MAAM,CAACE,YAAY,uBAAuB,CAACN,EAAIgB,GAAIhB,EAAgB,cAAE,SAASiB,EAAKC,GAAO,OAAOd,EAAG,MAAM,CAACM,IAAIQ,EAAMZ,YAAY,UAAUM,GAAG,CAAC,MAAQ,SAASO,GAAQ,OAAOnB,EAAIoB,SAASH,EAAKI,QAAQ,CAACjB,EAAG,MAAM,CAACE,YAAY,WAAW,CAACF,EAAG,MAAM,CAACE,YAAY,WAAWC,MAAM,CAAC,IAAMU,EAAKK,MAAM,IAAM,QAAQlB,EAAG,MAAM,CAACE,YAAY,SAAS,CAACN,EAAIuB,GAAGvB,EAAIwB,GAAGP,EAAKQ,UAAUrB,EAAG,MAAM,CAACE,YAAY,UAAU,CAACN,EAAIuB,GAAG,IAAIvB,EAAIwB,GAAGP,EAAKS,UAAUC,SAAWV,EAAKS,UAAUE,UAAU,EAAK,KAAQX,EAAkB,cAAI,IAAK,OAAO,YAAWb,EAAG,MAAM,CAACE,YAAY,mBAAmBM,GAAG,CAAC,MAAQZ,EAAI6B,SAAS,CAACzB,EAAG,WAAW,CAACG,MAAM,CAAC,KAAO,OAAO,KAAO,KAAK,MAAQ,cAAc,IAAI,IAAI,IACrlCuB,EAAkB,GCgCtB,G,oBAAA,CACEC,KADF,WAEI,MAAO,IAETC,SAAU,CACRC,aADJ,WAEM,IAAN,KAMM,OALAhC,KAAKiC,OAAOC,MAAMC,cAAcC,YAAYC,KAAI,SAAtD,GACYC,EAAEb,UAAUc,cACdP,EAAaQ,KAAKF,MAGfN,IAIXS,QAAS,CACPC,OADJ,aAEI9B,UAFJ,WAGMZ,KAAK2C,QAAQH,KAAK,CAAxB,kBAEIrB,SALJ,SAKA,cACMnB,KAAKiC,OAAOW,SAAS,gCAAiCC,GACtD7C,KAAK8C,OAAOC,QAAQ,CAClBC,QAAS,SACTC,aAAa,EACbC,SAAU,EACVC,YAAa,YAEfnD,KAAKoD,MACX,KACA,YACQ,OAAR,MACQ,IAAR,kBAEA,YACQ,OAAR,MACQ,IAAR,yCAGA,kBACQ,EAAR,eACQ,EAAR,uDACQ,EAAR,gBACA,sCACA,kBAEQ,EAAR,cAAU,KAAV,cAEA,mBACQ,EAAR,mBAIIxB,OAtCJ,WAuCM5B,KAAK2C,QAAQH,KAAK,CAAxB,eAGI3B,SA1CJ,WA2CMb,KAAK2C,QAAQH,KAAK,CAAxB,oBC5FiW,I,YCO7Va,EAAY,eACd,EACAvD,EACA+B,GACA,EACA,KACA,WACA,MAIa,aAAAwB,E","file":"js/chunk-bf38766c.9e8b437e.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"bookrack\"},[_c('van-nav-bar',{attrs:{\"left-text\":\"书架\"},scopedSlots:_vm._u([{key:\"right\",fn:function(){return [_c('van-icon',{attrs:{\"name\":\"clock-o\",\"color\":\"#000\",\"size\":\"24\"},on:{\"click\":_vm.goHistory}}),_c('van-icon',{attrs:{\"name\":\"search\",\"color\":\"#000\",\"size\":\"24\"},on:{\"click\":_vm.goSearch}})]},proxy:true}])}),_c('div',{staticClass:\"books-list clearfix\"},[_vm._l((_vm.classifyData),function(item,index){return _c('div',{key:index,staticClass:\"book fl\",on:{\"click\":function($event){return _vm.goDetail(item._id)}}},[_c('div',{staticClass:\"img-box\"},[_c('img',{staticClass:\"auto-img\",attrs:{\"src\":item.cover,\"alt\":\"\"}})]),_c('div',{staticClass:\"title\"},[_vm._v(_vm._s(item.title))]),_c('div',{staticClass:\"isRead\"},[_vm._v(\" \"+_vm._s(item.bookState.isReaded?((item.bookState.bookOrder+1) + \"章/\" + (item.chaptersCount) + \"章\"):\"未阅读\")+\" \")])])}),_c('div',{staticClass:\"book fl book-add\",on:{\"click\":_vm.goHome}},[_c('van-icon',{attrs:{\"name\":\"plus\",\"size\":\"30\",\"color\":\"#999999\"}})],1)],2)],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div class=\"bookrack\">\r\n    <van-nav-bar left-text=\"书架\">\r\n      <template #right>\r\n        <van-icon name=\"clock-o\" color=\"#000\" size=\"24\" @click=\"goHistory\" />\r\n        <van-icon name=\"search\" color=\"#000\" size=\"24\" @click=\"goSearch\" />\r\n      </template>\r\n    </van-nav-bar>\r\n    <div class=\"books-list clearfix\">\r\n      <div\r\n        class=\"book fl\"\r\n        v-for=\"(item,index) in classifyData\"\r\n        :key=\"index\"\r\n        @click=\"goDetail(item._id)\"\r\n      >\r\n        <div class=\"img-box\">\r\n          <img class=\"auto-img\" :src=\"item.cover\" alt />\r\n        </div>\r\n        <div class=\"title\">{{item.title}}</div>\r\n        <div class=\"isRead\">\r\n          {{item.bookState.isReaded?`${item.bookState.bookOrder+1}章/${item.chaptersCount}章`:\"未阅读\"}}\r\n        </div>\r\n      </div>\r\n      <div class=\"book fl book-add\" @click=\"goHome\">\r\n        <van-icon name=\"plus\" size=\"30\" color=\"#999999\"/>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport \"../../assets/less/bookrack.less\";\r\n\r\nexport default {\r\n  data() {\r\n    return {};\r\n  },\r\n  computed: {\r\n    classifyData() {\r\n      let classifyData = [];\r\n      this.$store.state.bookrackStore.historyData.map((v) => {\r\n        if (v.bookState.isAtClassify) {\r\n          classifyData.push(v);\r\n        }\r\n      });\r\n      return classifyData;\r\n      // return this.$store.state.bookrackStore.classifyData;\r\n    },\r\n  },\r\n  methods: {\r\n    search() {},\r\n    goHistory() {\r\n      this.$router.push({ name: \"History\" });\r\n    },\r\n    goDetail(id) {\r\n      this.$store.dispatch(\"detailStore/setBookIdListById\", id);\r\n      this.$toast.loading({\r\n        message: \"加载中...\",\r\n        forbidClick: true,\r\n        duration: 0,\r\n        loadingType: \"spinner\",\r\n      });\r\n      this.axios\r\n        .all([\r\n          this.axios({\r\n            method: \"GET\",\r\n            url: \"/book-info/\" + id,\r\n          }),\r\n          this.axios({\r\n            method: \"GET\",\r\n            url: \"/book-sources?view=summary&book=\" + id,\r\n          }),\r\n        ])\r\n        .then((result) => {\r\n          this.$toast.clear();\r\n          this.$store.dispatch(\"detailStore/setBookDetail\", result[0].data);\r\n          this.$store.dispatch(\r\n            \"detailStore/setBookOriginIdListById\",\r\n            result[1].data[0]._id\r\n          );\r\n          this.$router.push({ name: \"Detail\" });\r\n        })\r\n        .catch((err) => {\r\n          this.$toast.clear();\r\n        });\r\n    },\r\n\r\n    goHome(){\r\n      this.$router.push({ name: \"Home\" });\r\n    },\r\n    // 前往搜索页面\r\n    goSearch() {\r\n      this.$router.push({ name: \"Search\" });\r\n    },\r\n  },\r\n};\r\n</script>\r\n\r\n<style lang=\"less\" scoped>\r\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Bookrack.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./Bookrack.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./Bookrack.vue?vue&type=template&id=0d718ed4&scoped=true&\"\nimport script from \"./Bookrack.vue?vue&type=script&lang=js&\"\nexport * from \"./Bookrack.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"0d718ed4\",\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}
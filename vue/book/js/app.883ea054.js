(function(t){function e(e){for(var n,r,s=e[0],c=e[1],u=e[2],l=0,f=[];l<s.length;l++)r=s[l],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&f.push(o[r][0]),o[r]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);d&&d(e);while(f.length)f.shift()();return i.push.apply(i,u||[]),a()}function a(){for(var t,e=0;e<i.length;e++){for(var a=i[e],n=!0,r=1;r<a.length;r++){var s=a[r];0!==o[s]&&(n=!1)}n&&(i.splice(e--,1),t=c(c.s=a[0]))}return t}var n={},r={app:0},o={app:0},i=[];function s(t){return c.p+"js/"+({}[t]||t)+"."+{"chunk-18b2b025":"9d9d36aa","chunk-2d0ba87f":"1d17a176","chunk-3a3b93ce":"59409a42","chunk-597a3c3c":"940c0f52","chunk-5d32c477":"7702e368","chunk-78a5ef94":"960b2dd4","chunk-7f1dbe22":"34f475b8","chunk-bf38766c":"9e8b437e","chunk-d03b3f12":"877976a5","chunk-d5450dac":"270662d8","chunk-e16f012e":"a5cb8dc2","chunk-ee9f7324":"7774a95d"}[t]+".js"}function c(e){if(n[e])return n[e].exports;var a=n[e]={i:e,l:!1,exports:{}};return t[e].call(a.exports,a,a.exports,c),a.l=!0,a.exports}c.e=function(t){var e=[],a={"chunk-18b2b025":1,"chunk-3a3b93ce":1,"chunk-597a3c3c":1,"chunk-5d32c477":1,"chunk-78a5ef94":1,"chunk-7f1dbe22":1,"chunk-bf38766c":1,"chunk-d03b3f12":1,"chunk-d5450dac":1,"chunk-e16f012e":1,"chunk-ee9f7324":1};r[t]?e.push(r[t]):0!==r[t]&&a[t]&&e.push(r[t]=new Promise((function(e,a){for(var n="css/"+({}[t]||t)+"."+{"chunk-18b2b025":"d51b6ab3","chunk-2d0ba87f":"31d6cfe0","chunk-3a3b93ce":"ef90bfec","chunk-597a3c3c":"681fe2de","chunk-5d32c477":"40a4abc5","chunk-78a5ef94":"9a0ab5ec","chunk-7f1dbe22":"26e9dd31","chunk-bf38766c":"28cf639d","chunk-d03b3f12":"3086d2b4","chunk-d5450dac":"ce64f78a","chunk-e16f012e":"c49b4b9a","chunk-ee9f7324":"4377f112"}[t]+".css",o=c.p+n,i=document.getElementsByTagName("link"),s=0;s<i.length;s++){var u=i[s],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===n||l===o))return e()}var f=document.getElementsByTagName("style");for(s=0;s<f.length;s++){u=f[s],l=u.getAttribute("data-href");if(l===n||l===o)return e()}var d=document.createElement("link");d.rel="stylesheet",d.type="text/css",d.onload=e,d.onerror=function(e){var n=e&&e.target&&e.target.src||o,i=new Error("Loading CSS chunk "+t+" failed.\n("+n+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=n,delete r[t],d.parentNode.removeChild(d),a(i)},d.href=o;var h=document.getElementsByTagName("head")[0];h.appendChild(d)})).then((function(){r[t]=0})));var n=o[t];if(0!==n)if(n)e.push(n[2]);else{var i=new Promise((function(e,a){n=o[t]=[e,a]}));e.push(n[2]=i);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=s(t);var f=new Error;u=function(e){l.onerror=l.onload=null,clearTimeout(d);var a=o[t];if(0!==a){if(a){var n=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;f.message="Loading chunk "+t+" failed.\n("+n+": "+r+")",f.name="ChunkLoadError",f.type=n,f.request=r,a[1](f)}o[t]=void 0}};var d=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(e)},c.m=t,c.c=n,c.d=function(t,e,a){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(c.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(a,n,function(e){return t[e]}.bind(null,n));return a},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="",c.oe=function(t){throw console.error(t),t};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=e,u=u.slice();for(var f=0;f<u.length;f++)e(u[f]);var d=l;i.push([0,"chunk-vendors"]),a()})({0:function(t,e,a){t.exports=a("56d7")},2395:function(t,e,a){},"56d7":function(t,e,a){"use strict";a.r(e);a("4de4"),a("fb6a"),a("d3b7"),a("4d63"),a("ac1f"),a("25f0"),a("5319"),a("537a");var n=a("ac28"),r=(a("a52c"),a("2ed4")),o=(a("66b9"),a("b650")),i=(a("da3c"),a("0b33")),s=(a("bda7"),a("5e46")),c=(a("e7e5"),a("d399")),u=(a("c3a6"),a("ad06")),l=(a("5246"),a("6b41")),f=(a("c194"),a("7744")),d=(a("0653"),a("34e9")),h=(a("2994"),a("2bdd")),p=(a("7844"),a("5596")),b=(a("4b0a"),a("2bb1")),k=(a("5852"),a("d961")),g=(a("afd4"),a("ca19")),y=(a("8a58"),a("e41f")),m=(a("e260"),a("e6cf"),a("cca6"),a("a79d"),a("2b0e")),v=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{attrs:{id:"app"}},[a("router-view")],1)},S=[],D=(a("d81d"),{created:function(){this.getCategoriesData(),this.setHistoryData()},methods:{setHistoryData:function(){var t=localStorage.getItem("BOOKHISTORY");if(t){if(0==JSON.parse(t).length)return;for(var e=0;e<JSON.parse(t).length;e++)this.$store.dispatch("bookrackStore/setHistoryData",JSON.parse(t)[e]);localStorage.setItem("BOOKHISTORY",JSON.stringify(this.$store.state.bookrackStore.historyData))}else t=[],localStorage.setItem("BOOKHISTORY",JSON.stringify(t))},setClassifyData:function(){var t=localStorage.getItem("CLASSIFYBOOK");if(t){if(0==JSON.parse(t).length)return;for(var e=0;e<JSON.parse(t).length;e++)this.$store.dispatch("bookrackStore/setClassifyData",JSON.parse(t)[e]);localStorage.setItem("CLASSIFYBOOK",JSON.stringify(this.$store.state.bookrackStore.classifyData))}else t=[],localStorage.setItem("CLASSIFYBOOK",JSON.stringify(t))},getCategoriesData:function(){var t=this;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"GET",url:"/rank-category"}).then((function(e){t.$toast.clear();var a=Object.assign(e);t.setCategoriesData(a)})).catch((function(e){t.$toast.clear()}))},getRankData:function(t){var e=this,a=[];return t.map((function(t){a.push(e.axios({method:"GET",url:"/rank/"+t}))})),this.axios.all(a)},setCategoriesData:function(t){var e=this,a=[];for(var n in t.data)"ok"!=n&&a.push(t.data[n][0]._id);this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.getRankData(a).then((function(a){e.$toast.clear();var n=function(e){if("ok"==e)return"continue";a.map((function(a){a.data.ranking.gender==e&&(a.data.ranking.books.sort((function(t,e){return e.latelyFollower-t.latelyFollower})),t.data[e][0].booksData=a.data.ranking.books,t.data[e][0].booksData.map((function(t){return[t.cover=unescape(t.cover.slice(7))]})))}))};for(var r in t.data)n(r);e.$store.dispatch("rankStore/setCategoriesData",t)}))}}}),O=D,C=(a("7c55"),a("2877")),w=Object(C["a"])(O,v,S,!1,null,null,null),I=w.exports,B=a("8c4f"),T=[{path:"/main",name:"Main",component:function(){return a.e("chunk-3a3b93ce").then(a.bind(null,"cd56"))},children:[{path:"home",name:"Home",component:function(){return a.e("chunk-e16f012e").then(a.bind(null,"b288"))}},{path:"classify",name:"Classify",component:function(){return a.e("chunk-d5450dac").then(a.bind(null,"c57c"))}},{path:"bookrack",name:"Bookrack",component:function(){return a.e("chunk-bf38766c").then(a.bind(null,"34fd"))}},{path:"my",name:"My",component:function(){return a.e("chunk-2d0ba87f").then(a.bind(null,"3837"))}}]},{path:"/detail",name:"Detail",component:function(){return a.e("chunk-78a5ef94").then(a.bind(null,"c84b"))}},{path:"/directory",name:"Directory",component:function(){return a.e("chunk-7f1dbe22").then(a.bind(null,"66d6"))}},{path:"/chapters",name:"Chapters",component:function(){return a.e("chunk-ee9f7324").then(a.bind(null,"b125"))}},{path:"/classifyList",name:"ClassifyList",component:function(){return a.e("chunk-597a3c3c").then(a.bind(null,"6304"))}},{path:"/history",name:"History",component:function(){return a.e("chunk-d03b3f12").then(a.bind(null,"e4bb"))}},{path:"/search",name:"Search",component:function(){return a.e("chunk-5d32c477").then(a.bind(null,"2d3b"))}},{path:"/rank",name:"Rank",component:function(){return a.e("chunk-18b2b025").then(a.bind(null,"789b"))}},{path:"*",redirect:"/main/home"}];m["a"].use(B["a"]);var L=new B["a"]({routes:T}),N=L,_=a("2f62"),x={chapterHistory:"",chaptersList:"",chapterText:""},H=(a("1276"),a("498a"),{setChapterHistory:function(t,e){var a=t.state;a.chapterHistory=e},setChaptersList:function(t,e){var a=t.state;a.chaptersList=e},setChapterText:function(t,e){var a=t.state,n=e.cpContent.split("\n"),r=[];return n.map((function(t){t=t.trim(),r.push(t)})),e.cpContent=r,a.chapterText=e,a.chapterText}}),J={namespaced:!0,state:x,actions:H},j={isSideMole:!0,bookDetail:{},bookId:"",bookOriginId:"",directoryList:[]},E={setBookDetail:function(t,e){var a=t.state;e.latelyFollower=String(e.latelyFollower/1e4).slice(0,-2),e.totalFollower=String(e.totalFollower/1e4).slice(0,-2),e.wordCount=parseInt(e.wordCount/1e4),a.bookDetail=e,a.bookDetail.cover=unescape(a.bookDetail.cover.slice(7))},changeBookDetail:function(t,e){var a=t.state;a.bookDetail=e},setBookOriginIdListById:function(t,e){var a=t.state;a.bookOriginId=e},setBookIdListById:function(t,e){var a=t.state;a.bookId=e},setDirectoryListByLink:function(t,e){var a=t.state;a.directoryList=e},setBookDetailBookState:function(t,e){var a=t.state;return a.bookDetail.bookState=Object.assign(e),a.bookDetail}},$={namespaced:!0,state:j,actions:E},F={isSideMole:!0,historyData:[],classifyData:[]},R=(a("45fc"),a("a434"),{setHistoryData:function(t,e){var a=t.state,n=a.historyData.some((function(t){return t._id==e._id}));n||a.historyData.push(e),localStorage.setItem("BOOKHISTORY",JSON.stringify(a.historyData))},setClassifyData:function(t,e){var a=t.state;a.classifyData.push(e),localStorage.setItem("CLASSIFYBOOK",JSON.stringify(a.classifyData))},addHistoryData:function(t,e){for(var a=t.state,n=0;n<a.historyData.length;n++)if(a.historyData[n]._id==e._id){a.historyData.splice(n,1);break}a.historyData.unshift(e),localStorage.setItem("BOOKHISTORY",JSON.stringify(a.historyData))},addClassifyData:function(t,e){for(var a=t.state,n=0;n<a.classifyData.length;n++)if(a.classifyData[n]._id==e._id){a.classifyData.splice(n,1);break}a.classifyData.unshift(e),localStorage.setItem("CLASSIFYBOOK",JSON.stringify(a.classifyData))},setHistoryDataBookState:function(t,e){for(var a=t.state,n=[],r=0;r<a.historyData.length;r++)a.historyData[r]._id==e._id&&(e.bookState.isAtClassify=!0,a.historyData[r]=e),n.push(a.historyData[r]);a.historyData=Object.assign(n),localStorage.setItem("BOOKHISTORY",JSON.stringify(a.historyData))}}),A={namespaced:!0,state:F,actions:R},K={isSideMole:!0,categoriesData:{male:{tab:"男生",title:"排行榜",active:0,data:[]},female:{tab:"女生",title:"排行榜",active:0,data:[]},picture:{tab:"漫画",title:"排行榜",active:0,data:[]},epub:{tab:"出版",title:"排行榜",active:0,data:[]}}},M={setCategoriesData:function(t,e){var a=t.state;for(var n in a.categoriesData)a.categoriesData[n].data=e.data[n]}},Y={namespaced:!0,state:K,actions:M};m["a"].use(_["a"]);var P=new _["a"].Store({state:{},actions:{},modules:{chaptersStore:J,detailStore:$,bookrackStore:A,rankStore:Y}}),q=a("bc3a"),G=a.n(q),U=a("a7fe"),z=a.n(U);a("7f10"),a("499a");m["a"].use(n["a"]).use(r["a"]).use(o["a"]).use(i["a"]).use(s["a"]).use(c["a"]).use(u["a"]).use(l["a"]).use(f["a"]).use(d["a"]).use(h["a"]).use(p["a"]).use(b["a"]).use(k["a"]).use(g["a"]).use(y["a"]),m["a"].config.productionTip=!1,m["a"].use(z.a,G.a),G.a.defaults.headers.post["Content-Type"]="application/x-www-form-urlencoded;charset=utf-8",G.a.defaults.baseURL="http://novel.kele8.cn/",m["a"].filter("formatDate",(function(t,e){var a=new Date(t),n=a.getFullYear();if(/(y+)/.test(e)){var r=RegExp.$1;e=e.replace(r,n.toString().slice(4-r.length))}var o={M:a.getMonth()+1,d:a.getDate(),h:a.getHours(),m:a.getMinutes(),s:a.getSeconds()};for(var i in o){var s=new RegExp("(".concat(i,"+)"));if(s.test(e)){var c=RegExp.$1,u=o[i]>=10?o[i]:2==c.length?"0"+o[i]:o[i];e=e.replace(c,u)}}return e})),new m["a"]({router:N,store:P,render:function(t){return t(I)}}).$mount("#app")},"7c55":function(t,e,a){"use strict";var n=a("2395"),r=a.n(n);r.a}});
//# sourceMappingURL=app.883ea054.js.map
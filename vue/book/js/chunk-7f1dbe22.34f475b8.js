(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-7f1dbe22"],{1701:function(t,i,e){},"66d6":function(t,i,e){"use strict";e.r(i);var o=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{staticClass:"directory"},[e("div",{staticClass:"directory-top"},[e("van-nav-bar",{attrs:{"left-arrow":"",title:t.bookDetail.title},on:{"click-left":t.back}}),e("div",{staticClass:"directory-sort"},[e("span",[t._v(t._s(t.bookDetail.allowMonthly?"已完结 共":"连载中 更新至")+t._s(t.bookDetail.chaptersCount)+"章")]),t.isSort?e("span",{on:{click:t.changeSort}},[e("van-icon",{attrs:{name:"ascending",size:"16px",color:"#f99222"}}),t._v("升序 ")],1):e("span",{on:{click:t.changeSort}},[e("van-icon",{attrs:{name:"descending",size:"16px",color:"#f99222"}}),t._v("降序 ")],1)])],1),e("div",{staticClass:"directory-list"},[e("van-list",{attrs:{finished:t.finished,"finished-text":"没有更多了"},on:{load:t.onLoad},model:{value:t.loading,callback:function(i){t.loading=i},expression:"loading"}},t._l(t.list,(function(i,o){return e("van-cell",{key:o,attrs:{title:i.title},on:{click:function(e){return t.goChapters(i)}},scopedSlots:t._u([{key:"right-icon",fn:function(){return[i.isVip?e("span",[e("van-icon",{attrs:{name:"lock"}})],1):e("span",{staticClass:"vip-text"},[t._v("免费")])]},proxy:!0}],null,!0)})})),1)],1)])},n=[],s=(e("d81d"),e("9911"),e("1701"),{data:function(){return{dirList:[],list:[],loading:!1,finished:!1,isSort:!0}},created:function(){var t=this;this.directoryList.map((function(i){t.dirList.push(i)}))},computed:{bookDetail:function(){return this.$store.state.detailStore.bookDetail},directoryList:function(){return this.$store.state.detailStore.directoryList}},methods:{back:function(){this.$router.go(-1)},changeSort:function(){this.list=[],this.isSort=!this.isSort,this.dirList.reverse(),this.onLoad()},onLoad:function(){var t=this;setTimeout((function(){for(var i=0;i<30;i++)t.list.push(t.dirList[t.list.length]);t.loading=!1,t.list.length>=t.directoryList.length&&(t.finished=!0)}),500)},goChapters:function(t){var i=this;this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.$store.dispatch("chaptersStore/setChaptersList",t),this.axios({method:"GET",url:"/chapters/"+encodeURIComponent(t.link)}).then((function(e){i.$toast.clear(),i.$store.dispatch("chaptersStore/setChapterText",e.data.chapter);var o={isAtClassify:!1};i.bookDetail.bookState&&(o=Object.assign(i.bookDetail.bookState)),o.bookOrder=t.order-1,o.historyTitle=t.title,o.time=new Date,o.isReaded=!0,i.$store.dispatch("detailStore/setBookDetailBookState",o),i.$store.dispatch("bookrackStore/addHistoryData",i.bookDetail),i.$router.push({name:"Chapters"})}))}}}),r=s,a=e("2877"),c=Object(a["a"])(r,o,n,!1,null,null,null);i["default"]=c.exports},"857a":function(t,i,e){var o=e("1d80"),n=/"/g;t.exports=function(t,i,e,s){var r=String(o(t)),a="<"+i;return""!==e&&(a+=" "+e+'="'+String(s).replace(n,"&quot;")+'"'),a+">"+r+"</"+i+">"}},9911:function(t,i,e){"use strict";var o=e("23e7"),n=e("857a"),s=e("af03");o({target:"String",proto:!0,forced:s("link")},{link:function(t){return n(this,"a","href",t)}})},af03:function(t,i,e){var o=e("d039");t.exports=function(t){return o((function(){var i=""[t]('"');return i!==i.toLowerCase()||i.split('"').length>3}))}}}]);
//# sourceMappingURL=chunk-7f1dbe22.34f475b8.js.map
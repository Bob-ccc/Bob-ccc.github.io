(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-611a13f8"],{1276:function(t,e,n){"use strict";var i=n("d784"),a=n("44e7"),s=n("825a"),r=n("1d80"),o=n("4840"),l=n("8aa5"),c=n("50c4"),u=n("14c3"),d=n("9263"),f=n("d039"),g=[].push,p=Math.min,h=4294967295,v=!f((function(){return!RegExp(h,"y")}));i("split",2,(function(t,e,n){var i;return i="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,n){var i=String(r(this)),s=void 0===n?h:n>>>0;if(0===s)return[];if(void 0===t)return[i];if(!a(t))return e.call(i,t,s);var o,l,c,u=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),p=0,v=new RegExp(t.source,f+"g");while(o=d.call(v,i)){if(l=v.lastIndex,l>p&&(u.push(i.slice(p,o.index)),o.length>1&&o.index<i.length&&g.apply(u,o.slice(1)),c=o[0].length,p=l,u.length>=s))break;v.lastIndex===o.index&&v.lastIndex++}return p===i.length?!c&&v.test("")||u.push(""):u.push(i.slice(p)),u.length>s?u.slice(0,s):u}:"0".split(void 0,0).length?function(t,n){return void 0===t&&0===n?[]:e.call(this,t,n)}:e,[function(e,n){var a=r(this),s=void 0==e?void 0:e[t];return void 0!==s?s.call(e,a,n):i.call(String(a),e,n)},function(t,a){var r=n(i,t,this,a,i!==e);if(r.done)return r.value;var d=s(t),f=String(this),g=o(d,RegExp),m=d.unicode,x=(d.ignoreCase?"i":"")+(d.multiline?"m":"")+(d.unicode?"u":"")+(v?"y":"g"),I=new g(v?d:"^(?:"+d.source+")",x),y=void 0===a?h:a>>>0;if(0===y)return[];if(0===f.length)return null===u(I,f)?[f]:[];var b=0,k=0,C=[];while(k<f.length){I.lastIndex=v?k:0;var S,$=u(I,v?f:f.slice(k));if(null===$||(S=p(c(I.lastIndex+(v?0:k)),f.length))===b)k=l(f,k,m);else{if(C.push(f.slice(b,k)),C.length===y)return C;for(var w=1;w<=$.length-1;w++)if(C.push($[w]),C.length===y)return C;k=b=S}}return C.push(f.slice(b)),C}]}),!v)},"79ad":function(t,e,n){},a15b:function(t,e,n){"use strict";var i=n("23e7"),a=n("44ad"),s=n("fc6a"),r=n("a640"),o=[].join,l=a!=Object,c=r("join",",");i({target:"Array",proto:!0,forced:l||!c},{join:function(t){return o.call(s(this),void 0===t?",":t)}})},a640:function(t,e,n){"use strict";var i=n("d039");t.exports=function(t,e){var n=[][t];return!!n&&i((function(){n.call(null,e||function(){throw 1},1)}))}},c975:function(t,e,n){"use strict";var i=n("23e7"),a=n("4d64").indexOf,s=n("a640"),r=n("ae40"),o=[].indexOf,l=!!o&&1/[1].indexOf(1,-0)<0,c=s("indexOf"),u=r("indexOf",{ACCESSORS:!0,1:0});i({target:"Array",proto:!0,forced:l||!c||!u},{indexOf:function(t){return l?o.apply(this,arguments)||0:a(this,t,arguments.length>1?arguments[1]:void 0)}})},d53c:function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"acount"},[n("van-nav-bar",{attrs:{title:"个人资料","left-text":"返回","left-arrow":"",fixed:!0},on:{"click-left":t.back}}),n("div",{staticClass:"userInfo-box"},[n("div",{staticClass:"my-info"},[n("div",{staticClass:"my-img"},[n("div",{staticClass:"img-box"},[n("img",{staticClass:"auto-img",attrs:{src:t.userInfo.userImg,alt:""}})]),n("p",[t._v("更换头像")]),n("van-uploader",{staticClass:"uploader-box",attrs:{"after-read":t.uploadUserImg}})],1),n("div",{staticClass:"my-info-text"},[n("van-cell",{attrs:{title:"用户id"}},[n("div",{},[t._v(t._s(t.userInfo.userId))])]),n("van-cell",{attrs:{title:"手机号"}},[n("div",{},[t._v(t._s(t.userInfo.phone))])]),n("van-cell",{attrs:{title:"昵称"}},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.nickName,expression:"userInfo.nickName"}],staticClass:"nickname",attrs:{type:"text"},domProps:{value:t.userInfo.nickName},on:{change:function(e){return t.modifyUserInfo("nickName","/updateNickName")},input:function(e){e.target.composing||t.$set(t.userInfo,"nickName",e.target.value)}}})]),n("div",{staticClass:"desc-box"},[n("div",{staticClass:"desc-title"},[t._v("简介")]),n("div",[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.userInfo.desc,expression:"userInfo.desc"}],staticClass:"text-area",attrs:{placeholder:"这家伙很懒，什么都没有留下"},domProps:{value:t.userInfo.desc},on:{change:function(e){return t.modifyUserInfo("desc","/updateDesc")},input:function(e){e.target.composing||t.$set(t.userInfo,"desc",e.target.value)}}})])])],1)])])],1)},a=[];n("c975"),n("a15b"),n("ac1f"),n("5319"),n("1276");function s(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}n("79ad");var r=n("2f14"),o={data:function(){return{userInfo:{},maxSize:1048576}},created:function(){this.getUserInfo()},methods:{getUserInfo:function(){var t=this,e=localStorage.getItem("YXCFTK");e&&(this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"GET",url:"/findAccountInfo",params:{appkey:this.appkey,tokenString:e}}).then((function(e){t.$toast.clear(),"B001"==e.data.code&&e.data.result.length>0&&(t.isLogin=!0,t.userInfo=e.data.result[0])})).catch((function(e){t.$toast.clear()})))},back:function(){this.$router.go(-1)},uploadUserImg:function(t){var e=this,n=localStorage.getItem("YXCFTK");if(n){var i=t.file.type.split("/")[1],a=["png","gif","jpg","jpeg"];if(-1!==a.indexOf(i))if(this.maxSize<t.file.size)this.$notify({message:"上传文件大小不能超过"+this.maxSize/1024+"KB",color:"#fff",background:"#0C34BA"});else{var s=t.content.replace(/data:image\/[A-Za-z]+;base64,/,""),o=r["a"].queryString({appkey:this.appkey,tokenString:n,imgType:i,serverBase64Img:s});this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"POST",url:"/updateAvatar",data:o}).then((function(t){e.$toast.clear(),"H001"==t.data.code&&(e.userInfo.userImg=t.data.userImg)})).catch((function(t){e.$toast.clear()}))}else this.$notify({message:"图片类型只支持"+a.join(","),color:"#fff",background:"#0C34BA"})}},modifyUserInfo:function(t,e){var n=this,i=localStorage.getItem("YXCFTK");if(i){var a=r["a"].queryString(s({appkey:this.appkey,tokenString:i},t,this.userInfo[t]));this.$toast.loading({message:"加载中...",forbidClick:!0,duration:0,loadingType:"spinner"}),this.axios({method:"POST",url:e,data:a}).then((function(t){n.$toast.clear(),n.$toast(t.data.msg)})).catch((function(t){n.$toast.clear()}))}}}},l=o,c=n("2877"),u=Object(c["a"])(l,i,a,!1,null,null,null);e["default"]=u.exports}}]);
//# sourceMappingURL=chunk-611a13f8.c211726e.js.map
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>流动</title>
    <link rel="stylesheet" href="./css/style.css">
    <script src="https://libs.baidu.com/jquery/1.10.2/jquery.min.js"></script>
    <script>
        $(document).ready(function () {
            //设备宽度
            // var s = window.screen;
            // var width = q.width = s.width;
            // var height = q.height;
            // var yPositions = Array(300).join(0).split('');
            // var ctx = q.getContext('2d');
            // var draw = function () {
            //     ctx.fillStyle = 'rgba(0,0,0,.05)';
            //     ctx.fillRect(0, 0, width, height);
            //     ctx.fillStyle = 'green';/*代码颜色*/
            //     ctx.font = '10pt Georgia';
            //     yPositions.map(function (y, index) {
            //         text = String.fromCharCode(1e2 + Math.random() * 330);
            //         x = (index * 10) + 10;
            //         q.getContext('2d').fillText(text, x, y);
            //         if (y > Math.random() * 1e4) {
            //             yPositions[index] = 0;
            //         } else {
            //             yPositions[index] = y + 10;
            //         }
            //     });
            // };
            // RunMatrix();
            // function RunMatrix() {
            //     Game_Interval = setInterval(draw, 30);
            // }

            let w = window.screen.width;
            let h = window.screen.height;
            let canvas = document.querySelector("canvas")
            let context = canvas.getContext("2d")
            let textArr = Array(300).join(0).split('');
            let draw = function(){
                context.fillStyle = "#111111";
                context.fillRect(0,0,w,h);
                context.font = '10pt Georgia';

                context.fillStyle = "yellow";
                textArr.map(function(y,index){
                    text = String.fromCharCode(1e2 + Math.random() * 330);
                    x = (index * 10) + 10;
                    context.fillText(text,x,y)
                    if (y > Math.random() * 1e4) {
                        textArr[index] = 0;
                    } else {
                        textArr[index] = y + 10;
                    }
                })
            }
            draw()
            setInterval(draw, 30);
        });

    </script>
</head>

<body>
    <div align="center" style=" position:fixed; left:0; top:0px; width:100%; height:100%;">
        <canvas id="q" width="1920" height="1900"></canvas>
    </div>
</body>

</html>